(function(e){function t(t){for(var o,i,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var p=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"13a8":function(e,t,n){},5490:function(e,t,n){"use strict";var o=n("13a8"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-navigation-drawer",{attrs:{clipped:"",permanent:"",app:"",overflow:"",width:"400"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-row",[n("v-expansion-panels",{attrs:{accordion:e.accordion,popout:e.popout,inset:e.inset,multiple:e.multiple,focusable:e.focusable,disabled:e.disabled,readonly:e.readonly,flat:e.flat,hover:e.hover,tile:e.tile}},[n("v-expansion-panel",{model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[n("v-expansion-panel-header",{attrs:{color:"secondary"}},[e._v(" About the tool ")]),n("v-expansion-panel-content",[e._v(" Some basic overarching text about the tool. Mostly saying how cool it is and how everyone should use it. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat ")])],1),n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"secondary"}},[e._v(" Assess an Area of Interest ")]),n("v-expansion-panel-content",[e._v(" This is where you'll go to start an analysis. You'll click the sketch button and then start drawing. This text will tell you what to do. "),n("div",{staticClass:"pa-md-4",attrs:{align:"center"}},[n("v-btn-toggle",{attrs:{multiple:""}},[n("v-btn",{attrs:{color:"primary"},on:{click:e.callToggleDrawing}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-pencil")]),n("span",[e._v("Sketch")])],1)],1)],1),e.polygonArea?n("p",{staticClass:"pa-md-4"},[e._v(" The area of interest is "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.polygonArea)+" km"),n("sup",[e._v("2")])])]):e._e(),e.hexagonsInBox?n("p",{staticClass:"pa-md-4"},[e._v(" The area of interest falls in the "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.ecoregionsInBox))]),e._v(" ecoregion(s) and intersects hexagons with IDs: "),n("br"),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.hexagonsInBox))])]):e._e()])],1)],1)],1)],1),n("v-app-bar",{attrs:{"clipped-left":"",app:"",color:"primary"}},[n("v-toolbar-title",[e._v("Offshore Wind Energy")])],1),n("Map"),n("v-footer",{attrs:{color:"primary",app:""}})],1)},r=[],i=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"map"}})},l=[],c=(n("d81d"),n("e192")),p=n.n(c),u=n("2f62"),d=n("cae8"),g=n("595b");n("bdd0");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"Map",components:{},mounted:function(){this.measure(),this.createMap(),this.initDraw(),this.drawFuncs(this.map)},props:{},computed:y({},Object(u["c"])(["isDrawing"])),watch:{isDrawing:function(e,t){this.toggleDrawMode(e)}},methods:y({},Object(u["b"])(["toggleDrawing","updatePolyArea"]),{measure:function(){var e=g["lineString"]([[115,-32],[131,-22],[143,-25],[150,-34]]);console.log(e)},createMap:function(){p.a.accessToken="pk.eyJ1IjoiZXJpa21hcnRpbiIsImEiOiJjancweTZ4dGowZzVsNGFsMjF6cmp0ZGk3In0.cwQYtCiplAs_a6XnqeUdpQ",this.map=new p.a.Map({container:"map",style:"mapbox://styles/erikmartin/ck5o3w5ot0onw1ijyewljclyb",center:[-70,44],zoom:8,minZoom:7,maxZoom:18,hash:!0}),this.map.addControl(new p.a.NavigationControl);var e=new p.a.ScaleControl({maxWidth:120,unit:"imperial"});return this.map.addControl(e,"bottom-left"),e.setUnit("metric"),this.map},initDraw:function(){console.log("adding draw"),this.Draw=new d({displayControlsDefault:!1,controls:{polygon:!1,line_string:!1,combine_features:!1,trash:!1},userProperties:!0}),this.map.addControl(this.Draw)},toggleDrawMode:function(e){!0===e?this.Draw.changeMode("draw_polygon"):this.Draw.changeMode("simple_select")},drawFuncs:function(e){var t=this;e.on("draw.create",(function(e){var n={polygon:e,map:t.map};t.updatePolyArea(n)})),e.on("draw.update",(function(e){var n={polygon:e,map:t.map};t.updatePolyArea(n)}))}})},m=b,h=(n("5490"),n("2877")),w=Object(h["a"])(m,s,l,!1,null,null,null),v=w.exports;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={name:"App",props:{source:String},computed:x({},Object(u["c"])(["isDrawing","polygonArea","hexagonsInBox","ecoregionsInBox"])),components:{Map:v},methods:x({},Object(u["b"])(["toggleDrawing"]),{callToggleDrawing:function(){this.toggleDrawing()}}),data:function(){return{drawer:{model:null,type:!0,clipped:!0,floating:!1,mini:!1},accordion:!0,popout:!1,inset:!1,multiple:!1,disabled:!1,readonly:!1,focusable:!0,flat:!1,hover:!1,tile:!1,panel:0}}},P=j,D=n("6544"),_=n.n(D),S=n("7496"),A=n("40dc"),I=n("8336"),E=n("a609"),k=n("cd55"),M=n("49e2"),C=n("c865"),T=n("0393"),V=n("553a"),B=n("132d"),N=n("f774"),F=n("0fd9"),J=n("2a7f"),q=Object(h["a"])(P,a,r,!1,null,"917cc658",null),W=q.exports;_()(q,{VApp:S["a"],VAppBar:A["a"],VBtn:I["a"],VBtnToggle:E["a"],VExpansionPanel:k["a"],VExpansionPanelContent:M["a"],VExpansionPanelHeader:C["a"],VExpansionPanels:T["a"],VFooter:V["a"],VIcon:B["a"],VNavigationDrawer:N["a"],VRow:F["a"],VToolbarTitle:J["a"]});var Z=n("f309");o["a"].use(Z["a"]);var G=new Z["a"]({theme:{themes:{light:{primary:"#79a79d",secondary:"#799658",accent:"#c9b359",error:"#b2612b",warning:"#b87f39",info:"#eab595",success:"#03a9f4"}}}}),R=new Z["a"]({vuetify:G}),H=(n("a15b"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("3ca3"),n("5319"),n("ddb0"),n("2909")),U={drawing:!1,polyArea:null,hexagonNames:null,ecoregions:null,polygonSW:null,polygonNE:null,payloadForIntersection:{}},$={isDrawing:function(e){return e.drawing},polygonArea:function(e){return e.polyArea},hexagonsInBox:function(e){return e.hexagonNames},ecoregionsInBox:function(e){return e.ecoregions}},z={toggleDrawing:function(e){var t=e.commit;t("setDrawing",!U.drawing)},updatePolyArea:function(e,t){var n=e.commit;n("updateArea",t.polygon),console.log(t),n("getDrawnPolyBbox",t),n("getHexagons",t),n("intersectAndParse",t)}},Q={setDrawing:function(e,t){e.drawing=t},updateArea:function(e,t){var n=t.features[0],o=(n.id.toString(),g["area"](n)),a=Math.round(o/1e6*100)/100;a=a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e.polyArea=a},getDrawnPolyBbox:function(e,t){var n=t.polygon,o=t.map,a=n.features[0],r=(g["center"](a).geometry.coordinates,g["bbox"](a)),i=o.project([r[0],r[1]]),s=o.project([r[2],r[3]]);e.polygonNE=s,e.polygonSW=i},getHexagons:function(e,t){var n=t.polygon.features[0];e.payloadForIntersection.id=n.id,e.payloadForIntersection.drawnPolygon=n,e.payloadForIntersection.layerName="hexagons",e.payloadForIntersection.hexagons=JSON.parse(JSON.stringify(t.map.queryRenderedFeatures([[e.polygonSW.x,e.polygonSW.y],[e.polygonNE.x,e.polygonNE.y]],{layers:["hexagons-webmerc"]})))},intersectAndParse:function(e,t){for(var n=t.polygon.features[0],o=e.payloadForIntersection.hexagons,a=[],r=[],i=0;i<o.length;i++)g["intersect"](o[i],n)&&(a.push(o[i].properties.GRID_ID),r.push(o[i].properties.ECOREG));var s=a.join(", ");r=Object(H["a"])(new Set(r));var l=r.join(", ");e.ecoregions=l,e.hexagonNames=s}},X={state:U,getters:$,actions:z,mutations:Q};o["a"].use(u["a"]);var Y=new u["a"].Store({modules:{draw:X}});window.mapboxgl=n("e192"),o["a"].config.productionTip=!1,new o["a"]({store:Y,vuetify:R,render:function(e){return e(W)}}).$mount("#app")}});
//# sourceMappingURL=app.ab796497.js.map