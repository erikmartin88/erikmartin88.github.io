(function(e){function t(t){for(var n,s,i=t[0],l=t[1],c=t[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"13a8":function(e,t,r){},5490:function(e,t,r){"use strict";var n=r("13a8"),o=r.n(n);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Welcome"),n("v-navigation-drawer",{attrs:{clipped:"",floating:"",permanent:"",overflow:"",app:"",width:"25%"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-row",[n("v-expansion-panels",{attrs:{accordion:e.accordion,popout:e.popout,inset:e.inset,multiple:e.multiple,focusable:e.focusable,disabled:e.disabled,readonly:e.readonly,flat:e.flat,hover:e.hover,tile:e.tile}},[n("v-expansion-panel",{model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[n("v-expansion-panel-header",{attrs:{color:"secondary"}},[e._v(" About the tool ")]),n("v-expansion-panel-content",[n("v-row",{staticClass:"pa-4",attrs:{align:"center",justify:"center"}},[n("v-img",{attrs:{src:r("6612"),"max-width":"200px","max-height":"200px"}}),n("p",{staticClass:"caption"},[e._v("Photo Â© bathyporeia Flickr "),n("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-nd/2.0/",target:"_blank"}},[e._v("Creative Commons license")])])],1),e._v(" Some basic overarching text about the tool. Mostly saying how cool it is and how everyone should use it. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat ")],1)],1),n("v-expansion-panel",{attrs:{expand:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[n("v-expansion-panel-header",{attrs:{true:"",color:"secondary"}},[e._v(" Assess an Area of Interest ")]),n("v-expansion-panel-content",[n("SketchInputs"),n("SketchResults")],1)],1)],1)],1)],1),n("v-app-bar",{attrs:{"clipped-left":"",app:"",color:"primary"}},[n("v-toolbar-title",[e._v("Offshore Wind Energy")])],1),n("Map"),n("v-footer",{attrs:{color:"primary",app:""}})],1)},a=[],s=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"map"}})},l=[],c=(r("d81d"),r("e192")),u=r.n(c),p=r("2f62"),d=r("cae8"),m=r("c716");r("bdd0");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={name:"Map",components:{},mounted:function(){this.measure(),this.createMap(),this.initDraw(),this.drawFuncs(this.map),this.setMap(this.map)},props:{},computed:g({},Object(p["c"])(["isDrawing"])),watch:{isDrawing:function(e,t){this.toggleDrawMode(e)}},methods:g({},Object(p["b"])(["toggleDrawing","updatePolyArea","deleteSketchedPolygon","setMapInState","setDrawObject","deleteUploadedPoly"]),{measure:function(){var e=m["e"]([[115,-32],[131,-22],[143,-25],[150,-34]]);console.log(e)},createMap:function(){u.a.accessToken="pk.eyJ1IjoiZXJpa21hcnRpbiIsImEiOiJjancweTZ4dGowZzVsNGFsMjF6cmp0ZGk3In0.cwQYtCiplAs_a6XnqeUdpQ",this.map=new u.a.Map({container:"map",style:"mapbox://styles/erikmartin/ck5o3w5ot0onw1ijyewljclyb",center:[-70,44],zoom:8,minZoom:7,maxZoom:18,hash:!0}),this.map.addControl(new u.a.NavigationControl);var e=new u.a.ScaleControl({maxWidth:120,unit:"imperial"});return this.map.addControl(e,"bottom-left"),e.setUnit("metric"),this.map},setMap:function(){var e=this,t={map:e.map};e.setMapInState(t)},initDraw:function(){var e={map:this.map},t=this;t.deleteUploadedPoly(e),console.log("adding draw"),this.Draw=new d({displayControlsDefault:!1,controls:{polygon:!1,line_string:!1,combine_features:!1,trash:!1},userProperties:!0}),this.map.addControl(this.Draw)},toggleDrawMode:function(e){var t=this,r={draw:t.Draw,map:t.map};!0===e?(t.Draw.changeMode("draw_polygon"),t.setDrawObject(r)):(t.Draw.changeMode("simple_select"),t.deleteSketchedPolygon(r))},drawFuncs:function(e){var t=this;e.on("draw.create",(function(e){var r={polygon:e,map:t.map};t.updatePolyArea(r)})),e.on("draw.update",(function(e){var r={polygon:e,map:t.map};t.updatePolyArea(r)}))}})},h=v,y=(r("5490"),r("2877")),b=Object(y["a"])(h,i,l,!1,null,null,null),w=b.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.polygonArea?r("v-card",{staticClass:"mx-auto mt-4",attrs:{"max-width":"500"}},[r("v-system-bar",{attrs:{color:"accent lighten-1"}},[r("v-spacer")],1),r("v-card",{staticClass:"pa-md-4"},[e.polygonArea?r("div",[e._v(" The area of interest is "),r("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.polygonArea)+" km"),r("sup",[e._v("2")])]),r("v-spacer"),e.cellsInBox?r("span",[e._v("It falls in the "),r("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.ecoregionsInBox))]),e._v(" ecoregion(s). "),r("ResultGraphs",{staticClass:"mt-4"}),e._v(" These cells have IDs: "),r("br"),r("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.cellsInBox))])],1):r("span",[e._v("Either no metrics are selected or the area of interest does not intersect any ocean cells")])],1):e._e(),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-content-copy")])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-printer")])],1)],1)],1)],1):e._e()},j=[],P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2"),e._v(" There are "+e._s(e.cellsInBox.split(",").length)+" cells intersected "),r("svg",{attrs:{height:e.height,width:e.width,id:"hexChart"}})])},x=[],D=r("5698");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={name:"ResultGraphs",props:{},computed:_({},Object(p["c"])(["cellsInBox","numCells"])),methods:_({},Object(p["b"])(["updatePolyArea"])),mounted:function(){},data:function(){return{msg:"Yo!",height:30,width:330}}},A=C,k=Object(y["a"])(A,P,x,!1,null,null,null),I=k.exports;function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V={name:"SketchResult",props:{source:String},components:{ResultGraphs:I},computed:M({},Object(p["c"])(["isDrawing","polygonArea","cellsInBox","ecoregionsInBox"])),data:function(){return{}}},E=V,U=r("6544"),B=r.n(U),F=r("8336"),R=r("b0af"),G=r("99d9"),N=r("132d"),q=r("2fa4"),J=r("afd9"),W=Object(y["a"])(E,O,j,!1,null,null,null),L=W.exports;B()(W,{VBtn:F["a"],VCard:R["a"],VCardActions:G["a"],VIcon:N["a"],VSpacer:q["a"],VSystemBar:J["a"]});var H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mx-auto mt-4",attrs:{"max-width":"500"}},[r("v-system-bar",{attrs:{color:"accent lighten-1"}},[r("v-spacer")],1),r("v-card",{staticClass:"pa-md-4"},[r("p",[e._v("This is where you'll go to start an analysis. You'll click the sketch button and then start drawing. This text will tell you what to do.")]),r("div",{attrs:{align:"center"}},[[r("div",{staticClass:"text-right ma-4"},[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:"","x-small":""}},n),[r("v-icon",{staticStyle:{"font-size":"14px"}},[e._v("mdi-settings")]),e._v(" Select Metrics ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{staticClass:"pa-4"},[r("v-card-title",{staticClass:"headline secondary lighten-2",attrs:{"primary-title":""}},[e._v(" Select metrics for analysis ")]),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"space-between"}},e._l(e.allMetrics,(function(t,n){return r("v-switch",{key:n,staticStyle:{width:"130px"},attrs:{value:t,label:n,color:"primary"},on:{change:function(t){return e.updateAssessMetrics()}},model:{value:e.metrics,callback:function(t){e.metrics=t},expression:"metrics"}})})),1)],1),r("v-btn",{on:{click:function(t){e.dialog=!1}}},[e._v("OK")])],1)],1)],1)],r("v-btn-toggle",{ref:"sketchButton"},[r("v-btn",{attrs:{color:"accent"},on:{click:e.callToggleDrawing}},[e.isDrawing?r("v-icon",{attrs:{color:"white"}},[e._v("mdi-close")]):r("v-icon",{attrs:{color:"white"}},[e._v("mdi-pencil")]),e.isDrawing?r("span",{staticClass:"white--text",class:{active:e.isDrawing}},[e._v("Clear")]):r("span",{staticClass:"white--text"},[e._v("Sketch")])],1)],1),r("v-spacer"),r("UploadSHP")],2)])],1)},$=[],Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-btn-toggle",[r("v-btn",{staticClass:"ma-4 white--text",attrs:{color:"accent"},on:{click:e.shpUpBtn}},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-upload")]),r("span",[e._v("Upload SHP")])],1)],1),r("v-spacer"),e.shpUploading?r("p",{staticClass:"ma-4"},[e._v("Uploading & Converting SHP "),r("v-progress-circular",{attrs:{indeterminate:"",color:"error"}})],1):e._e(),r("form",{ref:"uploadForm",attrs:{enctype:"multipart/form-data",method:"post",id:"uploadForm"}},[r("div",{staticClass:"field",staticStyle:{display:"none"}},[r("label",{staticClass:"file-upload"},[r("input",{ref:"upFile",attrs:{type:"file",name:"file",id:"inFile"},on:{change:e.shpUpload}})])])])],1)},z=[],Q=(r("e01a"),r("d28b"),r("d3b7"),r("ac1f"),r("3ca3"),r("5319"),r("1276"),r("ddb0"),r("3835")),X=r("afaa");function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee={name:"UploadSHP",props:{},computed:K({},Object(p["c"])(["map","metricsToAssess","userPolygon","draw","shpUploading"])),methods:K({},Object(p["b"])(["updatePolyArea","updateMetricsToAssess","deleteSketchedPolygon","storeUserPolygon","deleteUploadedPoly","setUploadingStatus"]),{shpUpBtn:function(){this.$refs.upFile.click()},shpUpload:function(e){var t=this;t.setUploadingStatus(!0),console.log("Starting upload!"),console.log(e),this.removeLayers(t.map),this.updateMetricsToAssess(this.metricsToAssess),Object(X["loadModules"])(["esri/tasks/Geoprocessor","esri/request"],{css:!1}).then((function(r){var n=Object(Q["a"])(r,2),o=n[0],a=n[1],s=new o("https://cumulus.tnc.org/arcgis/rest/services/easterndiv/featureToGeoJSON/GPServer/featureToGeoJSON"),i="https://cumulus.tnc.org/arcgis/rest/services/easterndiv/featureToGeoJSON/GPServer/uploads/upload",l=e.target.value.toLowerCase();function c(e){console.log("uploading file!");var r=e.split(".");r=r[0].replace("c:\\fakepath\\","");a(i,{body:t.$refs.uploadForm,method:"post",responseType:"text"}).then(u,p)}function u(e){var r=document.createElement("html"),n="";r.innerHTML=e.data;var o=r.getElementsByTagName("td"),a=!0,i=!1,l=void 0;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;"Item ID:"==p.innerHTML&&(n=p.nextElementSibling.firstChild.innerHTML)}}catch(m){i=!0,l=m}finally{try{a||null==u.return||u.return()}finally{if(i)throw l}}if(""!=n){var d={zippedShapefile:"{'itemID':'"+n+"'}"};s.submitJob(d).then((function(e){var r=e.jobId,n={interval:500,statusCallback:function(e){var t=e.messages[e.messages.length-1].description;console.log(t)}};s.waitForJobCompletion(r,n).then((function(){console.log(r),s.getResultData(r,"outputJSON").then((function(e){var r=e.value.url;console.log(r),t.drawUploaded(t.map,r)}),(function(e){console.error(e)}))}))}))}else console.log("Could not get file item id")}function p(e){console.log("gp error: ",e)}c(l)}))},removeLayers:function(e){var t=this;try{var r={draw:t.draw};void 0!=r&&t.deleteSketchedPolygon(r)}catch(o){console.log("No sketched poly")}var n={map:e};t.deleteUploadedPoly(n)},drawUploaded:function(e,t){var r=this;console.log("drawing uploaded");var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){var t=new FileReader;t.readAsText(n.response),t.onload=function(t){var n=t.target.result;n=JSON.parse(n),e.addSource("userPoly",{type:"geojson",data:n}),e.addLayer({id:"userPoly",source:"userPoly",type:"fill",paint:{"fill-color":"#00ffff"}});var o={polygon:n,map:e};r.storeUserPolygon(o),r.updatePolyArea(o)}},n.send(),r.setUploadingStatus(!1)}}),data:function(){return{showUploadForm:!1}}},te=ee,re=r("a609"),ne=r("490a"),oe=Object(y["a"])(te,Z,z,!1,null,null,null),ae=oe.exports;function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}B()(oe,{VBtn:F["a"],VBtnToggle:re["a"],VIcon:N["a"],VProgressCircular:ne["a"],VSpacer:q["a"]});var le={name:"SketchInputs",props:{source:String},components:{UploadSHP:ae},computed:ie({},Object(p["c"])(["isDrawing","metricsToAssess","allMetrics","userPolygon","map"])),methods:ie({},Object(p["b"])(["toggleDrawing","updateMetricsToAssess","deleteUploadedPoly"]),{numMetrics:function(){var e=this;return e.metricsToAssess.length},callToggleDrawing:function(){var e=this;this.toggleDrawing(),this.updateAssessMetrics();var t={map:e.map};this.deleteUploadedPoly(t)},updateAssessMetrics:function(){var e=this;e.updateMetricsToAssess(e.metrics)}}),data:function(){return{dialog:!1,metrics:["GRID_ID","ECOREG"]}}},ce=le,ue=r("a523"),pe=r("169a"),de=r("0fd9"),me=r("b73d"),fe=Object(y["a"])(ce,H,$,!1,null,null,null),ge=fe.exports;B()(fe,{VBtn:F["a"],VBtnToggle:re["a"],VCard:R["a"],VCardTitle:G["c"],VContainer:ue["a"],VDialog:pe["a"],VIcon:N["a"],VRow:de["a"],VSpacer:q["a"],VSwitch:me["a"],VSystemBar:J["a"]});var ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"",width:"700px"},model:{value:e.welcomeDialog,callback:function(t){e.welcomeDialog=t},expression:"welcomeDialog"}},[n("v-card",{staticClass:"ma-pa-2"},[n("v-card-title",{staticClass:"text-center"},[n("span",{staticClass:"headline"},[e._v("Welcome to the Offshore Wind Mapper")])]),n("v-card-text",[n("v-row",{staticClass:"pa-4",attrs:{align:"center",justify:"center"}},[n("v-img",{attrs:{src:r("6612"),"max-width":"400px","max-height":"400px"}}),n("p",{staticClass:"caption"},[e._v("Photo Â© bathyporeia via Flickr / "),n("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-nd/2.0/",target:"_blank"}},[e._v("Creative Commons license")])])],1),e._v(" Lorem ipsum dolor sit amet, semper quis, sapien id natoque elit. Nostra urna at, magna at neque sed sed ante imperdiet, dolor mauris cursus velit, velit non, sem nec. Volutpat sem ridiculus placerat leo, augue in, duis erat proin condimentum in a eget, sed fermentum sed vestibulum varius ac, vestibulum volutpat orci ut elit eget tortor. Ultrices nascetur nulla gravida ante arcu. Pharetra rhoncus morbi ipsum, nunc tempor debitis, ipsum pellentesque, vitae id quam ut mauris dui tempor, aptent non. Quisque turpis. Phasellus quis lectus luctus orci eget rhoncus. Amet donec vestibulum mattis commodo, nulla aliquet, nibh praesent, elementum nulla. ")],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.closeWelcome()}}},[e._v("Agree")])],1)],1)],1)],1)},he=[],ye={mounted:function(){this.openWelcome()},methods:{openWelcome:function(){this.welcomeDialog=!0},closeWelcome:function(){this.welcomeDialog=!1}},data:function(){return{welcomeDialog:!0}}},be=ye,we=r("adda"),Oe=Object(y["a"])(be,ve,he,!1,null,null,null),je=Oe.exports;function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}B()(Oe,{VBtn:F["a"],VCard:R["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:G["c"],VDialog:pe["a"],VImg:we["a"],VRow:de["a"],VSpacer:q["a"]});var De={name:"App",props:{source:String},computed:xe({},Object(p["c"])(["polygonArea","cellsInBox","ecoregionsInBox"])),components:{Map:w,SketchResults:L,SketchInputs:ge,Welcome:je},methods:{},data:function(){return{drawer:{model:null},accordion:!0,popout:!1,inset:!1,multiple:!1,disabled:!1,readonly:!1,focusable:!0,flat:!1,hover:!1,tile:!1,panel:1}}},Se=De,_e=r("7496"),Ce=r("40dc"),Ae=r("cd55"),ke=r("49e2"),Ie=r("c865"),Te=r("0393"),Me=r("553a"),Ve=r("f774"),Ee=r("2a7f"),Ue=Object(y["a"])(Se,o,a,!1,null,"6c279011",null),Be=Ue.exports;B()(Ue,{VApp:_e["a"],VAppBar:Ce["a"],VExpansionPanel:Ae["a"],VExpansionPanelContent:ke["a"],VExpansionPanelHeader:Ie["a"],VExpansionPanels:Te["a"],VFooter:Me["a"],VImg:we["a"],VNavigationDrawer:Ve["a"],VRow:de["a"],VToolbarTitle:Ee["a"]});var Fe=r("f309");n["a"].use(Fe["a"]);var Re=new Fe["a"]({theme:{themes:{light:{primary:"#79a79d",secondary:"#799658",accent:"#b87f39",error:"#b2612b",warning:"#b87f39",info:"#c9b359",success:"#03a9f4"}}}}),Ge=new Fe["a"]({vuetify:Re}),Ne=(r("7db0"),r("a630"),r("a15b"),r("25f0"),r("6062"),r("2909")),qe={},Je={},We={},Le={updateBarChart:function(e,t){var r="Cells",n="hexChart",o=t.numCells,a=700,s="#0000b4",i=[],l=[];l.push(o),i.push(r);var c=D["a"]().domain([0,a]).range([0,200]),u=D["a"]().domain([0,i.length]).range([0,10]);D["b"]("#"+n).select("svg").remove();var p=D["b"]("#"+n).append("svg").attr("id",n+"svg").attr("width",300).attr("height",20);p.append("g").attr("transform","translate(0,0)").attr("id",n+"bars").selectAll("rect").data(l).enter().append("rect").attr("height",18).attr("x",0).attr("y",(function(e,t){return u(t)})).style("fill",s).attr("width",(function(e){return 0})),D["b"]("#"+n+"svg").selectAll("rect").data(l).transition().duration(1e3).attr("width",(function(e){return c(e)})),D["b"]("#"+n+"bars").selectAll("text").data(l).enter().append("text").attr("x",(function(e){return c(e)-0})).attr("y",(function(e,t){return u(t)+14})).html((function(e){return"&nbsp;"+e})).style("fill","#000000").style("font-size","12px")}},He={state:qe,getters:Je,actions:We,mutations:Le},$e={shpUploading:!1,drawing:!1,polyArea:null,cellNames:null,userPolygon:null,ecoregions:null,polygonSW:null,polygonNE:null,draw:null,map:null,payloadForIntersection:{},metricsToAssess:["GRID_ID","ECOREG"],numCells:0,allMetrics:{"Cell ID":"GRID_ID",Ecoregion:"ECOREG","One Fish":"1Fish","Two Fish":"2Fish","Red Fish":"RedFish","Blue Fish":"BlueFish"}},Ze={isDrawing:function(e){return e.drawing},shpUploading:function(e){return e.shpUploading},draw:function(e){return e.draw},polygonArea:function(e){return e.polyArea},cellsInBox:function(e){return e.cellNames},ecoregionsInBox:function(e){return e.ecoregions},metricsToAssess:function(e){return e.metricsToAssess},allMetrics:function(e){return e.allMetrics},userPolygon:function(e){return e.userPolygon},numCells:function(e){return e.numCells},map:function(e){return e.map}},ze={toggleDrawing:function(e){var t=e.commit;t("setDrawing")},setMapInState:function(e,t){var r=e.commit;r("setMap",t.map)},updatePolyArea:function(e,t){var r=e.commit;r("updateArea",t.polygon),r("getDrawnPolyBbox",t),r("getCells",t),r("intersectAndParse",t),setTimeout((function(){t["numCells"]=$e.numCells,r("updateBarChart",t)}),200)},deleteSketchedPolygon:function(e,t){var r=e.commit;r("clearDrawnPoly",t)},deleteUploadedPoly:function(e,t){var r=e.commit;r("removeUploadedPoly",t)},updateMetricsToAssess:function(e,t){var r=e.commit;r("updateMetricsArray",t)},setDrawObject:function(e,t){var r=e.commit;r("setDrawObj",t)},storeUserPolygon:function(e,t){var r=e.commit;r("setUserPolygon",t)},setUploadingStatus:function(e,t){var r=e.commit;r("setUploading",t)}},Qe={setUploading:function(e,t){e.shpUploading=t},setUserPolygon:function(e,t){e.userPolygon=t.polygon},removeUploadedPoly:function(e,t){console.log("removing");var r=t.map,n=r.getLayer("userPoly");"undefined"!==typeof n&&r.removeLayer("userPoly").removeSource("userPoly"),e.userPolygon=null,e.polyArea=null,e.ecoregions=null,e.cellNames=null},setDrawObj:function(e,t){e.draw=t.draw},updateMetricsArray:function(e,t){e.metricsToAssess=t},setDrawing:function(e,t){e.drawing=!e.drawing},setMap:function(e,t){e.map=t},clearDrawnPoly:function(e,t){t.draw.deleteAll(),e.userPolygon=null,e.polyArea=null,e.ecoregions=null,e.cellNames=null},updateArea:function(e,t){var r=t.features[0],n=(r.id.toString(),m["a"](r)),o=Math.round(n/1e6*100)/100;o=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e.polyArea=o},getDrawnPolyBbox:function(e,t){var r=t.polygon,n=t.map,o=r.features[0],a=(m["c"](o).geometry.coordinates,m["b"](o)),s=n.project([a[0],a[1]]),i=n.project([a[2],a[3]]);e.polygonNE=i,e.polygonSW=s},getCells:function(e,t){var r=t.polygon.features[0];e.payloadForIntersection.id=r.id,e.payloadForIntersection.drawnPolygon=r,e.payloadForIntersection.layerName="cells",e.payloadForIntersection.cells=JSON.parse(JSON.stringify(t.map.queryRenderedFeatures([[e.polygonSW.x,e.polygonSW.y],[e.polygonNE.x,e.polygonNE.y]],{layers:["squares-webmerc"]})))},intersectAndParse:function(e,t){for(var r=t.polygon.features[0],n=e.payloadForIntersection.cells,o=[],a=0;a<n.length;a++)if(m["d"](n[a],r)){for(var s={},i=0;i<e.metricsToAssess.length;i++)s[e.metricsToAssess[i]]=n[a].properties[e.metricsToAssess[i]];o.push(s)}o=Array.from(new Set(o.map((function(e){return e.GRID_ID})))).map((function(e){return o.find((function(t){return t.GRID_ID===e}))}));var l=[],c=[];for(a=0;a<o.length;a++)l.push(o[a].GRID_ID),c.push(o[a].ECOREG);c=Object(Ne["a"])(new Set(c));var u=l.join(", "),p=c.join(", ");e.ecoregions=p,e.cellNames=u,e.numCells=l.length}},Xe={state:$e,getters:Ze,actions:ze,mutations:Qe};n["a"].use(p["a"]);var Ye=new p["a"].Store({modules:{draw:Xe,graphs:He}});window.mapboxgl=r("e192"),n["a"].config.productionTip=!1,new n["a"]({store:Ye,vuetify:Ge,render:function(e){return e(Be)}}).$mount("#app")},6612:function(e,t,r){e.exports=r.p+"img/turbines.b1b737dd.jpg"}});
//# sourceMappingURL=app.410174b5.js.map