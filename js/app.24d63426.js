(function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],u=0,d=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var p=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"13a8":function(e,t,r){},5490:function(e,t,r){"use strict";var n=r("13a8"),o=r.n(n);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-navigation-drawer",{attrs:{clipped:"",permanent:"",overflow:"",app:"",width:"400"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-row",[r("v-expansion-panels",{attrs:{accordion:e.accordion,popout:e.popout,inset:e.inset,multiple:e.multiple,focusable:e.focusable,disabled:e.disabled,readonly:e.readonly,flat:e.flat,hover:e.hover,tile:e.tile}},[r("v-expansion-panel",{model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[r("v-expansion-panel-header",{attrs:{color:"secondary"}},[e._v(" About the tool ")]),r("v-expansion-panel-content",[e._v(" Some basic overarching text about the tool. Mostly saying how cool it is and how everyone should use it. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat ")])],1),r("v-expansion-panel",[r("v-expansion-panel-header",{attrs:{color:"secondary"}},[e._v(" Assess an Area of Interest ")]),r("v-expansion-panel-content",[r("SketchInputs"),r("SketchResults")],1)],1)],1)],1)],1),r("v-app-bar",{attrs:{"clipped-left":"",app:"",color:"primary"}},[r("v-toolbar-title",[e._v("Offshore Wind Energy")])],1),r("Map"),r("v-footer",{attrs:{color:"primary",app:""}})],1)},a=[],s=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"map"}})},c=[],l=(r("d81d"),r("e192")),p=r.n(l),u=r("2f62"),d=r("cae8"),g=r("c716");r("bdd0");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={name:"Map",components:{},mounted:function(){this.measure(),this.createMap(),this.initDraw(),this.drawFuncs(this.map)},props:{},computed:y({},Object(u["c"])(["isDrawing"])),watch:{isDrawing:function(e,t){this.toggleDrawMode(e)}},methods:y({},Object(u["b"])(["toggleDrawing","updatePolyArea","deleteUserPolygon"]),{measure:function(){var e=g["e"]([[115,-32],[131,-22],[143,-25],[150,-34]]);console.log(e)},createMap:function(){p.a.accessToken="pk.eyJ1IjoiZXJpa21hcnRpbiIsImEiOiJjancweTZ4dGowZzVsNGFsMjF6cmp0ZGk3In0.cwQYtCiplAs_a6XnqeUdpQ",this.map=new p.a.Map({container:"map",style:"mapbox://styles/erikmartin/ck5o3w5ot0onw1ijyewljclyb",center:[-70,44],zoom:8,minZoom:7,maxZoom:18,hash:!0}),this.map.addControl(new p.a.NavigationControl);var e=new p.a.ScaleControl({maxWidth:120,unit:"imperial"});return this.map.addControl(e,"bottom-left"),e.setUnit("metric"),this.map},initDraw:function(){console.log("adding draw"),this.Draw=new d({displayControlsDefault:!1,controls:{polygon:!1,line_string:!1,combine_features:!1,trash:!1},userProperties:!0}),this.map.addControl(this.Draw)},toggleDrawMode:function(e){var t=this;if(!0===e)t.Draw.changeMode("draw_polygon");else{t.Draw.changeMode("simple_select");var r={draw:t.Draw};t.deleteUserPolygon(r)}},drawFuncs:function(e){var t=this;e.on("draw.create",(function(e){var r={polygon:e,map:t.map};t.updatePolyArea(r)})),e.on("draw.update",(function(e){var r={polygon:e,map:t.map};t.updatePolyArea(r)}))}})},b=m,v=(r("5490"),r("2877")),h=Object(v["a"])(b,i,c,!1,null,null,null),w=h.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.polygonArea?r("v-card",{staticClass:"mx-auto mt-4",attrs:{"max-width":"500"}},[r("v-system-bar",{attrs:{color:"accent lighten-1"}},[r("v-spacer")],1),r("v-card",{staticClass:"pa-md-4"},[e.polygonArea?r("p",[e._v(" The area of interest is "),r("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.polygonArea)+" km"),r("sup",[e._v("2")])]),r("v-spacer"),e.hexagonsInBox?r("span",[e._v("It falls in the "),r("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.ecoregionsInBox))]),e._v(" ecoregion(s) and intersects hexagons with IDs: "),r("br"),r("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.hexagonsInBox))])]):r("span",[e._v("Either no metrics are selected or the area of interest does not intersect any ocean hexagons")])],1):e._e(),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-content-copy")])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",[e._v("mdi-printer")])],1)],1)],1)],1):e._e()},j=[];function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D={name:"SketchResult",props:{source:String},computed:P({},Object(u["c"])(["isDrawing","polygonArea","hexagonsInBox","ecoregionsInBox"])),data:function(){return{}}},_=D,A=r("6544"),S=r.n(A),I=r("8336"),M=r("b0af"),k=r("99d9"),V=r("132d"),T=r("2fa4"),C=r("afd9"),E=Object(v["a"])(_,O,j,!1,null,null,null),B=E.exports;S()(E,{VBtn:I["a"],VCard:M["a"],VCardActions:k["a"],VIcon:V["a"],VSpacer:T["a"],VSystemBar:C["a"]});var F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mx-auto mt-4",attrs:{"max-width":"500"}},[r("v-system-bar",{attrs:{color:"accent lighten-1"}},[r("v-spacer")],1),r("v-card",{staticClass:"pa-md-4"},[r("p",[e._v("This is where you'll go to start an analysis. You'll click the sketch button and then start drawing. This text will tell you what to do.")]),r("div",{attrs:{align:"center"}},[[r("div",{staticClass:"text-right ma-4"},[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:"","x-small":""}},n),[r("v-icon",{staticStyle:{"font-size":"14px"}},[e._v("mdi-settings")]),e._v(" Select Metrics ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{staticClass:"pa-4"},[r("v-card-title",{staticClass:"headline secondary lighten-2",attrs:{"primary-title":""}},[e._v(" Select metrics for analysis ")]),r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{justify:"space-between"}},e._l(e.allMetrics,(function(t,n){return r("v-switch",{key:n,staticStyle:{width:"130px"},attrs:{value:t,label:n,color:"primary"},on:{change:function(t){return e.updateAssessMetrics()}},model:{value:e.metrics,callback:function(t){e.metrics=t},expression:"metrics"}})})),1)],1),r("v-btn",{on:{click:function(t){e.dialog=!1}}},[e._v("OK")])],1)],1)],1)],r("v-btn-toggle",{attrs:{multiple:"",raised:""}},[r("v-btn",{attrs:{color:"accent"},on:{click:e.callToggleDrawing}},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-pencil")]),e.isDrawing?r("span",{staticClass:"white--text"},[e._v("Clear")]):r("span",[e._v("Sketch")])],1)],1)],2)])],1)},N=[];function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J={name:"SketchInputs",props:{source:String},computed:G({},Object(u["c"])(["isDrawing","metricsToAssess","allMetrics","userPolygon"])),methods:G({},Object(u["b"])(["toggleDrawing","updateMetricsToAssess","updatePolyArea"]),{numMetrics:function(){var e=this;return e.metricsToAssess.length},callToggleDrawing:function(){this.toggleDrawing(),this.updateAssessMetrics()},updateAssessMetrics:function(){var e=this;e.updateMetricsToAssess(e.metrics)}}),data:function(){return{metrics:["GRID_ID"],dialog:!1}}},q=J,U=r("a609"),W=r("a523"),Z=r("169a"),$=r("0fd9"),H=r("b73d"),z=Object(v["a"])(q,F,N,!1,null,null,null),Q=z.exports;function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}S()(z,{VBtn:I["a"],VBtnToggle:U["a"],VCard:M["a"],VCardTitle:k["b"],VContainer:W["a"],VDialog:Z["a"],VIcon:V["a"],VRow:$["a"],VSpacer:T["a"],VSwitch:H["a"],VSystemBar:C["a"]});var K={name:"App",props:{source:String},computed:Y({},Object(u["c"])(["isDrawing","polygonArea","hexagonsInBox","ecoregionsInBox"])),components:{Map:w,SketchResults:B,SketchInputs:Q},methods:{},data:function(){return{drawer:{model:null},accordion:!0,popout:!1,inset:!1,multiple:!1,disabled:!1,readonly:!1,focusable:!0,flat:!1,hover:!1,tile:!1,panel:0}}},L=K,ee=r("7496"),te=r("40dc"),re=r("cd55"),ne=r("49e2"),oe=r("c865"),ae=r("0393"),se=r("553a"),ie=r("f774"),ce=r("2a7f"),le=Object(v["a"])(L,o,a,!1,null,"2d250ca3",null),pe=le.exports;S()(le,{VApp:ee["a"],VAppBar:te["a"],VExpansionPanel:re["a"],VExpansionPanelContent:ne["a"],VExpansionPanelHeader:oe["a"],VExpansionPanels:ae["a"],VFooter:se["a"],VNavigationDrawer:ie["a"],VRow:$["a"],VToolbarTitle:ce["a"]});var ue=r("f309");n["a"].use(ue["a"]);var de=new ue["a"]({theme:{themes:{light:{primary:"#79a79d",secondary:"#799658",accent:"#b87f39",error:"#b2612b",warning:"#b87f39",info:"#c9b359",success:"#03a9f4"}}}}),ge=new ue["a"]({vuetify:de}),fe=(r("a15b"),r("d3b7"),r("ac1f"),r("25f0"),r("6062"),r("3ca3"),r("5319"),r("ddb0"),r("2909")),ye={drawing:!1,polyArea:null,hexagonNames:null,userPolygon:null,ecoregions:null,polygonSW:null,polygonNE:null,payloadForIntersection:{},metricsToAssess:[],allMetrics:{"Hexagon ID":"GRID_ID","More Data":"MoreData","One Fish":"1Fish","Two Fish":"2Fish","Red Fish":"RedFish","Blue Fish":"BlueFish"}},me={isDrawing:function(e){return e.drawing},polygonArea:function(e){return e.polyArea},hexagonsInBox:function(e){return e.hexagonNames},ecoregionsInBox:function(e){return e.ecoregions},metricsToAssess:function(e){return e.metricsToAssess},allMetrics:function(e){return e.allMetrics},userPolygon:function(e){return e.userPolygon}},be={toggleDrawing:function(e){var t=e.commit;t("setDrawing",!ye.drawing)},updatePolyArea:function(e,t){var r=e.commit;r("updateArea",t.polygon),r("getDrawnPolyBbox",t),r("getHexagons",t),r("intersectAndParse",t)},deleteUserPolygon:function(e,t){var r=e.commit;r("clearDrawnPoly",t)},updateMetricsToAssess:function(e,t){var r=e.commit;r("updateMetricsArray",t)}},ve={updateMetricsArray:function(e,t){e.metricsToAssess=t},setDrawing:function(e,t){e.drawing=t},clearDrawnPoly:function(e,t){t.draw.deleteAll(),e.userPolygon=null,e.polyArea=null,e.ecoregions=null,e.hexagonNames=null},updateArea:function(e,t){var r=t.features[0],n=(r.id.toString(),g["a"](r)),o=Math.round(n/1e6*100)/100;o=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e.polyArea=o},getDrawnPolyBbox:function(e,t){var r=t.polygon,n=t.map,o=r.features[0],a=(g["c"](o).geometry.coordinates,g["b"](o)),s=n.project([a[0],a[1]]),i=n.project([a[2],a[3]]);e.polygonNE=i,e.polygonSW=s},getHexagons:function(e,t){var r=t.polygon.features[0];e.payloadForIntersection.id=r.id,e.payloadForIntersection.drawnPolygon=r,e.payloadForIntersection.layerName="hexagons",e.payloadForIntersection.hexagons=JSON.parse(JSON.stringify(t.map.queryRenderedFeatures([[e.polygonSW.x,e.polygonSW.y],[e.polygonNE.x,e.polygonNE.y]],{layers:["hexagons-webmerc"]})))},intersectAndParse:function(e,t){for(var r=t.polygon.features[0],n=e.payloadForIntersection.hexagons,o=[],a=[],s=0;s<n.length;s++)if(g["d"](n[s],r)){for(var i=0;i<e.metricsToAssess.length;i++)"GRID_ID"===e.metricsToAssess[i]&&o.push(n[s].properties[e.metricsToAssess[i]]);a.push(n[s].properties.ECOREG)}var c=o.join(", ");a=Object(fe["a"])(new Set(a));var l=a.join(", ");e.ecoregions=l,e.hexagonNames=c}},he={state:ye,getters:me,actions:be,mutations:ve};n["a"].use(u["a"]);var we=new u["a"].Store({modules:{draw:he}});window.mapboxgl=r("e192"),n["a"].config.productionTip=!1,new n["a"]({store:we,vuetify:ge,render:function(e){return e(pe)}}).$mount("#app")}});
//# sourceMappingURL=app.24d63426.js.map