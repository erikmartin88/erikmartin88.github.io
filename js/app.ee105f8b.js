(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var p=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"13a8":function(e,t,n){},5490:function(e,t,n){"use strict";var o=n("13a8"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-navigation-drawer",{attrs:{clipped:"",permanent:"",overflow:"",app:"",width:"400"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-row",[n("v-expansion-panels",{attrs:{accordion:e.accordion,popout:e.popout,inset:e.inset,multiple:e.multiple,focusable:e.focusable,disabled:e.disabled,readonly:e.readonly,flat:e.flat,hover:e.hover,tile:e.tile}},[n("v-expansion-panel",{model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[n("v-expansion-panel-header",{attrs:{color:"secondary"}},[e._v(" About the tool ")]),n("v-expansion-panel-content",[e._v(" Some basic overarching text about the tool. Mostly saying how cool it is and how everyone should use it. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat ")])],1),n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"secondary"}},[e._v(" Assess an Area of Interest ")]),n("v-expansion-panel-content",[n("p",[e._v("This is where you'll go to start an analysis. You'll click the sketch button and then start drawing. This text will tell you what to do.")]),n("div",{staticClass:"pa-md-4",attrs:{align:"center"}},[n("v-btn-toggle",{attrs:{multiple:""}},[n("v-btn",{attrs:{color:"accent"},on:{click:e.callToggleDrawing}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-pencil")]),e.isDrawing?n("span",{staticClass:"white--text"},[e._v("Clear")]):n("span",[e._v("Sketch")])],1)],1)],1),n("SketchResult")],1)],1)],1)],1)],1),n("v-app-bar",{attrs:{"clipped-left":"",app:"",color:"primary"}},[n("v-toolbar-title",[e._v("Offshore Wind Energy")])],1),n("Map"),n("v-footer",{attrs:{color:"primary",app:""}})],1)},a=[],i=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"map"}})},c=[],l=(n("d81d"),n("e192")),p=n.n(l),u=n("2f62"),d=n("cae8"),g=n("595b");n("bdd0");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"Map",components:{},mounted:function(){this.measure(),this.createMap(),this.initDraw(),this.drawFuncs(this.map)},props:{},computed:y({},Object(u["c"])(["isDrawing"])),watch:{isDrawing:function(e,t){this.toggleDrawMode(e)}},methods:y({},Object(u["b"])(["toggleDrawing","updatePolyArea","deleteUserPolygon"]),{measure:function(){var e=g["lineString"]([[115,-32],[131,-22],[143,-25],[150,-34]]);console.log(e)},createMap:function(){p.a.accessToken="pk.eyJ1IjoiZXJpa21hcnRpbiIsImEiOiJjancweTZ4dGowZzVsNGFsMjF6cmp0ZGk3In0.cwQYtCiplAs_a6XnqeUdpQ",this.map=new p.a.Map({container:"map",style:"mapbox://styles/erikmartin/ck5o3w5ot0onw1ijyewljclyb",center:[-70,44],zoom:8,minZoom:7,maxZoom:18,hash:!0}),this.map.addControl(new p.a.NavigationControl);var e=new p.a.ScaleControl({maxWidth:120,unit:"imperial"});return this.map.addControl(e,"bottom-left"),e.setUnit("metric"),this.map},initDraw:function(){console.log("adding draw"),this.Draw=new d({displayControlsDefault:!1,controls:{polygon:!1,line_string:!1,combine_features:!1,trash:!1},userProperties:!0}),this.map.addControl(this.Draw)},toggleDrawMode:function(e){var t=this;if(!0===e)t.Draw.changeMode("draw_polygon");else{t.Draw.changeMode("simple_select");var n={draw:t.Draw};t.deleteUserPolygon(n)}},drawFuncs:function(e){var t=this;e.on("draw.create",(function(e){var n={polygon:e,map:t.map};t.updatePolyArea(n)})),e.on("draw.update",(function(e){var n={polygon:e,map:t.map};t.updatePolyArea(n)}))}})},v=b,h=(n("5490"),n("2877")),m=Object(h["a"])(v,s,c,!1,null,null,null),w=m.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.polygonArea?n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[n("v-system-bar",{attrs:{color:"accent lighten-1"}},[n("v-spacer")],1),n("v-card",[e.polygonArea?n("p",{staticClass:"pa-md-4"},[e._v(" The area of interest is "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.polygonArea)+" km"),n("sup",[e._v("2")])]),n("v-spacer"),e.hexagonsInBox?n("span",[e._v("It falls in the "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.ecoregionsInBox))]),e._v(" ecoregion(s) and intersects hexagons with IDs: "),n("br"),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.hexagonsInBox))])]):n("span",[e._v("The area of interest does not intersect any ocean hexagons")])],1):e._e(),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-content-copy")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-printer")])],1)],1)],1)],1):e._e()},x=[];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={name:"Sketch",props:{source:String},computed:P({},Object(u["c"])(["isDrawing","polygonArea","hexagonsInBox","ecoregionsInBox"])),data:function(){return{}}},_=D,S=n("6544"),A=n.n(S),I=n("8336"),k=n("b0af"),E=n("99d9"),V=n("132d"),C=n("2fa4"),B=n("afd9"),M=Object(h["a"])(_,O,x,!1,null,null,null),N=M.exports;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}A()(M,{VBtn:I["a"],VCard:k["a"],VCardActions:E["a"],VIcon:V["a"],VSpacer:C["a"],VSystemBar:B["a"]});var J={name:"App",props:{source:String},computed:F({},Object(u["c"])(["isDrawing","polygonArea","hexagonsInBox","ecoregionsInBox"])),components:{Map:w,SketchResult:N},methods:F({},Object(u["b"])(["toggleDrawing"]),{callToggleDrawing:function(){this.toggleDrawing()}}),data:function(){return{drawer:{model:null},accordion:!0,popout:!1,inset:!1,multiple:!1,disabled:!1,readonly:!1,focusable:!0,flat:!1,hover:!1,tile:!1,panel:0}}},R=J,q=n("7496"),U=n("40dc"),W=n("a609"),Z=n("cd55"),G=n("49e2"),$=n("c865"),H=n("0393"),z=n("553a"),Q=n("f774"),X=n("0fd9"),Y=n("2a7f"),L=Object(h["a"])(R,r,a,!1,null,"0da26758",null),K=L.exports;A()(L,{VApp:q["a"],VAppBar:U["a"],VBtn:I["a"],VBtnToggle:W["a"],VExpansionPanel:Z["a"],VExpansionPanelContent:G["a"],VExpansionPanelHeader:$["a"],VExpansionPanels:H["a"],VFooter:z["a"],VIcon:V["a"],VNavigationDrawer:Q["a"],VRow:X["a"],VToolbarTitle:Y["a"]});var ee=n("f309");o["a"].use(ee["a"]);var te=new ee["a"]({theme:{themes:{light:{primary:"#79a79d",secondary:"#799658",accent:"#b87f39",error:"#b2612b",warning:"#b87f39",info:"#c9b359",success:"#03a9f4"}}}}),ne=new ee["a"]({vuetify:te}),oe=(n("a15b"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("3ca3"),n("5319"),n("ddb0"),n("2909")),re={drawing:!1,polyArea:null,hexagonNames:null,userPolygon:null,ecoregions:null,polygonSW:null,polygonNE:null,payloadForIntersection:{}},ae={isDrawing:function(e){return e.drawing},polygonArea:function(e){return e.polyArea},hexagonsInBox:function(e){return e.hexagonNames},ecoregionsInBox:function(e){return e.ecoregions}},ie={toggleDrawing:function(e){var t=e.commit;t("setDrawing",!re.drawing)},updatePolyArea:function(e,t){var n=e.commit;n("updateArea",t.polygon),console.log(t),n("getDrawnPolyBbox",t),n("getHexagons",t),n("intersectAndParse",t)},deleteUserPolygon:function(e,t){var n=e.commit;n("clearDrawnPoly",t)}},se={setDrawing:function(e,t){e.drawing=t},clearDrawnPoly:function(e,t){t.draw.deleteAll(),e.userPolygon=null,e.polyArea=null,e.ecoregions=null,e.hexagonNames=null},updateArea:function(e,t){e.userPolygon=t;var n=t.features[0],o=(n.id.toString(),g["area"](n)),r=Math.round(o/1e6*100)/100;r=r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e.polyArea=r},getDrawnPolyBbox:function(e,t){var n=t.polygon,o=t.map,r=n.features[0],a=(g["center"](r).geometry.coordinates,g["bbox"](r)),i=o.project([a[0],a[1]]),s=o.project([a[2],a[3]]);e.polygonNE=s,e.polygonSW=i},getHexagons:function(e,t){var n=t.polygon.features[0];e.payloadForIntersection.id=n.id,e.payloadForIntersection.drawnPolygon=n,e.payloadForIntersection.layerName="hexagons",e.payloadForIntersection.hexagons=JSON.parse(JSON.stringify(t.map.queryRenderedFeatures([[e.polygonSW.x,e.polygonSW.y],[e.polygonNE.x,e.polygonNE.y]],{layers:["hexagons-webmerc"]})))},intersectAndParse:function(e,t){for(var n=t.polygon.features[0],o=e.payloadForIntersection.hexagons,r=[],a=[],i=0;i<o.length;i++)g["intersect"](o[i],n)&&(r.push(o[i].properties.GRID_ID),a.push(o[i].properties.ECOREG));var s=r.join(", ");a=Object(oe["a"])(new Set(a));var c=a.join(", ");e.ecoregions=c,e.hexagonNames=s}},ce={state:re,getters:ae,actions:ie,mutations:se};o["a"].use(u["a"]);var le=new u["a"].Store({modules:{draw:ce}});window.mapboxgl=n("e192"),o["a"].config.productionTip=!1,new o["a"]({store:le,vuetify:ne,render:function(e){return e(K)}}).$mount("#app")}});
//# sourceMappingURL=app.ee105f8b.js.map